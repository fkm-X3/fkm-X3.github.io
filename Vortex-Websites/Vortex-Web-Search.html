<!DOCTYPE html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vortex Search</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../Javascript_folder/tailwind-script.js"></script>
    <link rel="stylesheet" href="../Css/styles.css">
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/1086/1086933.png">
</head>
<body class="bg-white text-gray-800 dark:bg-darkBg dark:text-gray-200 transition-colors duration-300 min-h-screen flex flex-col font-sans">

    <nav class="flex justify-between items-center p-4 sticky top-0 z-50 bg-white/95 dark:bg-darkBg/95 backdrop-blur-sm border-b border-transparent transition-colors" id="navbar">
        <div class="flex items-center gap-6 w-full">

            <div id="nav-logo" class="hidden cursor-pointer flex items-center gap-2" onclick="goHome()">
                <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg">V</div>
                <span class="font-semibold text-xl tracking-tight">Vortex</span>
            </div>

            <div id="nav-search-container" class="hidden flex-grow max-w-2xl group">
                <div class="relative flex items-center w-full">
                    <input type="text" id="nav-search-input" 
                        class="w-full py-2.5 pl-5 pr-10 rounded-full border border-gray-200 dark:border-gray-700 bg-white dark:bg-darkCard shadow-sm hover:shadow-md focus:shadow-md focus:outline-none focus:border-blue-500 dark:focus:border-blue-500 transition-all"
                        placeholder="Search the web..."
                    >
                    <button class="absolute right-3 p-2 text-blue-600 hover:text-blue-700" onclick="performSearchFromNav()">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                    </button>
                    <button class="absolute right-12 p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200" onclick="clearSearch()">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>

            <div class="flex items-center gap-3 ml-auto">
                <button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors" aria-label="Toggle Dark Mode">

                    <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden dark:block text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                    </svg>

                    <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 block dark:hidden text-gray-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                    </svg>
                </button>
                <div class="w-8 h-8 rounded-full bg-gradient-to-tr from-purple-500 to-blue-500 flex items-center justify-center text-white font-bold text-sm cursor-pointer hover:opacity-90">
                    U
                </div>
            </div>
        </div>
    </nav>

    <main id="home-view" class="flex-grow flex flex-col items-center justify-center px-4 -mt-16 animate-fade-in">

        <div class="flex flex-col items-center mb-8">
            <div class="text-6xl md:text-8xl font-bold tracking-tighter text-gray-800 dark:text-white mb-2">
                <span class="text-blue-600">V</span>ortex
            </div>
            <p class="text-gray-500 dark:text-gray-400 text-lg">Explore the infinite.</p>
        </div>

        <div class="w-full max-w-xl">
            <div class="relative group">
                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <svg class="h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </div>
                <input type="text" id="home-search-input" 
                    class="block w-full pl-12 pr-4 py-4 rounded-full border border-gray-200 dark:border-gray-700 bg-white dark:bg-darkCard text-lg shadow-sm hover:shadow-md focus:shadow-lg focus:outline-none focus:ring-0 transition-shadow duration-200"
                    placeholder="Search everything..."
                    autocomplete="off"
                >

                <div class="absolute inset-y-0 right-0 pr-4 flex items-center cursor-pointer hover:opacity-80" title="Voice Search">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                    </svg>
                </div>
            </div>

            <div class="flex justify-center gap-3 mt-8">
                <button onclick="performSearchFromHome()" class="px-6 py-2 bg-gray-100 dark:bg-darkCard text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 hover:shadow border border-transparent focus:outline-none transition-all text-sm font-medium">
                    Vortex Search
                </button>
                <button onclick="imFeelingLucky()" class="px-6 py-2 bg-gray-100 dark:bg-darkCard text-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 hover:shadow border border-transparent focus:outline-none transition-all text-sm font-medium">
                    I'm Feeling Lucky
                </button>
            </div>
        </div>

        <div class="fixed bottom-0 w-full bg-gray-100 dark:bg-darkCard py-3 px-6 text-sm text-gray-500 dark:text-gray-400 flex flex-col md:flex-row justify-between items-center">
            <div class="mb-2 md:mb-0">Unknown Location • From your IP</div>
            <div class="flex gap-6">
                <a href="#" class="hover:underline">About</a>
                <a href="#" class="hover:underline">Privacy</a>
                <a href="#" class="hover:underline">Terms</a>
                <a href="#" class="hover:underline">Settings</a>
            </div>
        </div>
    </main>

    <div id="results-view" class="hidden flex-grow flex flex-col animate-fade-in">

        <div class="px-4 md:px-[160px] border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-darkBg">
            <div class="flex gap-6 text-sm text-gray-600 dark:text-gray-400 overflow-x-auto no-scrollbar">
                <button class="py-3 border-b-4 border-blue-600 text-blue-600 font-medium whitespace-nowrap">All</button>
                <button class="py-3 border-b-4 border-transparent hover:text-blue-600 whitespace-nowrap transition-colors">Images</button>
                <button class="py-3 border-b-4 border-transparent hover:text-blue-600 whitespace-nowrap transition-colors">Videos</button>
                <button class="py-3 border-b-4 border-transparent hover:text-blue-600 whitespace-nowrap transition-colors">News</button>
                <button class="py-3 border-b-4 border-transparent hover:text-blue-600 whitespace-nowrap transition-colors">Maps</button>
                <button class="py-3 border-b-4 border-transparent hover:text-blue-600 whitespace-nowrap transition-colors">More</button>
            </div>
        </div>

        <div class="px-4 md:px-[160px] py-3 text-sm text-gray-500 dark:text-gray-400" id="search-stats">
            About 0 results (0.00 seconds)
        </div>

        <div class="flex flex-col lg:flex-row px-4 md:px-[160px] gap-10 pb-10">

            <div class="flex-1 max-w-3xl flex flex-col gap-8" id="results-container">

            </div>

            <div class="hidden lg:block w-80 shrink-0">
                <div id="knowledge-panel" class="bg-white dark:bg-darkCard border border-gray-200 dark:border-gray-700 rounded-xl p-4 shadow-sm hidden">

                    <div class="h-40 bg-gray-200 dark:bg-gray-700 rounded-lg mb-4 overflow-hidden relative">
                         <img id="kp-image" src="" class="w-full h-full object-cover opacity-80" alt="Topic">
                    </div>
                    <h2 id="kp-title" class="text-2xl font-serif mb-1">Title</h2>
                    <div id="kp-subtitle" class="text-gray-500 text-sm mb-3">Subtitle</div>
                    <p id="kp-desc" class="text-sm text-gray-700 dark:text-gray-300 leading-relaxed mb-4">
                        Description text goes here.
                    </p>
                    <div class="border-t border-gray-200 dark:border-gray-600 pt-3">
                        <div class="grid grid-cols-2 gap-y-2 text-sm">
                            <div class="font-bold text-gray-500">Born:</div>
                            <div id="kp-fact1">Date</div>
                            <div class="font-bold text-gray-500">Height:</div>
                            <div id="kp-fact2">Val</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>

        const database = [
            {
                title: "Tailwind CSS - Rapidly build modern websites without ever leaving your HTML.",
                url: "https://tailwindcss.com",
                displayUrl: "tailwindcss.com",
                desc: "Tailwind CSS is a utility-first CSS framework for rapidly building custom designs. It is highly customizable and low-level.",
                category: "dev"
            },
            {
                title: "React – A JavaScript library for building user interfaces",
                url: "https://reactjs.org",
                displayUrl: "reactjs.org",
                desc: "React makes it painless to create interactive UIs. Design simple views for each state in your application, and React will efficiently update and render just the right components.",
                category: "dev"
            },
            {
                title: "SpaceX - Partial Reusability",
                url: "https://www.spacex.com",
                displayUrl: "www.spacex.com",
                desc: "SpaceX designs, manufactures and launches advanced rockets and spacecraft. The company was founded in 2002 to revolutionize space technology.",
                category: "space",
                knowledge: {
                    title: "SpaceX",
                    subtitle: "Aerospace company",
                    desc: "Space Exploration Technologies Corp. is an American spacecraft manufacturer, launcher, and satellite communications corporation headquartered in Hawthorne, California.",
                    image: "https://images.unsplash.com/photo-1517976487492-5750f3195933?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    fact1: "2002",
                    fact2: "Elon Musk"
                }
            },
            {
                title: "NASA - National Aeronautics and Space Administration",
                url: "https://www.nasa.gov",
                displayUrl: "www.nasa.gov",
                desc: "NASA explores the unknown in air and space, innovates for the benefit of humanity, and inspires the world through discovery.",
                category: "space"
            },
            {
                title: "Perfect Coffee Brewing Guide",
                url: "https://coffee.example.com/guide",
                displayUrl: "coffee.example.com › guide",
                desc: "Learn how to brew the perfect cup of coffee. From French Press to Pour Over, we cover the grind size, water temperature, and ratios.",
                category: "life"
            },
            {
                title: "JavaScript | MDN",
                url: "https://developer.mozilla.org/en-US/docs/Web/JavaScript",
                displayUrl: "developer.mozilla.org › docs › Web › JavaScript",
                desc: "JavaScript (JS) is a lightweight, interpreted, or just-in-time compiled programming language with first-class functions.",
                category: "dev"
            },
            {
                title: "OpenAI",
                url: "https://openai.com",
                displayUrl: "openai.com",
                desc: "OpenAI is an AI research and deployment company. Our mission is to ensure that artificial general intelligence benefits all of humanity.",
                category: "tech",
                knowledge: {
                    title: "OpenAI",
                    subtitle: "Artificial intelligence research laboratory",
                    desc: "OpenAI consists of the non-profit OpenAI Incorporated and its for-profit subsidiary corporation OpenAI Limited Partnership.",
                    image: "https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80",
                    fact1: "2015",
                    fact2: "Sam Altman"
                }
            },
            {
                title: "The Best Pizza Recipe",
                url: "https://cooking.example.com/pizza",
                displayUrl: "cooking.example.com › recipes › pizza",
                desc: "Homemade pizza dough and sauce recipes. Get that crispy crust and perfect cheese melt right in your home oven.",
                category: "life"
            },
             {
                title: "Introduction to Python",
                url: "https://python.org",
                displayUrl: "python.org",
                desc: "Python is a programming language that lets you work quickly and integrate systems more effectively.",
                category: "dev"
            },
        ];

        let isDarkMode = false;

        function toggleTheme() {
            isDarkMode = !isDarkMode;
            const html = document.documentElement;
            if (isDarkMode) {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            } else {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
            }
        }

        if (localStorage.getItem('theme') === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            isDarkMode = true;
            document.documentElement.classList.add('dark');
        }

        function goHome() {

            document.getElementById('home-search-input').value = '';
            document.getElementById('nav-search-input').value = '';

            document.getElementById('home-view').classList.remove('hidden');
            document.getElementById('results-view').classList.add('hidden');

            document.getElementById('nav-logo').classList.add('hidden');
            document.getElementById('nav-search-container').classList.add('hidden');
            document.getElementById('navbar').classList.remove('border-b', 'border-gray-200', 'dark:border-gray-700', 'shadow-sm');
        }

        function goResults(query) {
            if (!query.trim()) return;

            document.getElementById('home-search-input').value = query;
            document.getElementById('nav-search-input').value = query;

            document.getElementById('home-view').classList.add('hidden');
            document.getElementById('results-view').classList.remove('hidden');

            document.getElementById('nav-logo').classList.remove('hidden');
            document.getElementById('nav-search-container').classList.remove('hidden');
            document.getElementById('navbar').classList.add('border-b', 'border-gray-200', 'dark:border-gray-700', 'shadow-sm');

            renderResults(query);
        }

        function performSearchFromHome() {
            const query = document.getElementById('home-search-input').value;
            goResults(query);
        }

        function performSearchFromNav() {
            const query = document.getElementById('nav-search-input').value;
            goResults(query);
        }

        function imFeelingLucky() {
            const query = document.getElementById('home-search-input').value;
            if(!query) {
                window.location.href = "https://www.google.com/doodles"; 
                return;
            }

            goResults(query);
        }

        function clearSearch() {
             document.getElementById('nav-search-input').value = '';
             document.getElementById('nav-search-input').focus();
        }

        document.getElementById('home-search-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') performSearchFromHome();
        });

        document.getElementById('nav-search-input').addEventListener('keydown', function(e) {
            if (e.key === 'Enter') performSearchFromNav();
        });

        function renderResults(query) {
            const container = document.getElementById('results-container');
            const stats = document.getElementById('search-stats');
            const kp = document.getElementById('knowledge-panel');

            container.innerHTML = ''; 
            kp.classList.add('hidden'); 

            const lowerQuery = query.toLowerCase();
            const results = database.filter(item => 
                item.title.toLowerCase().includes(lowerQuery) || 
                item.desc.toLowerCase().includes(lowerQuery) ||
                item.url.toLowerCase().includes(lowerQuery)
            );

            container.innerHTML = `<div class="animate-pulse space-y-8 max-w-3xl">
                ${[1,2,3].map(() => `
                <div class="space-y-3">
                    <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"></div>
                    <div class="h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2"></div>
                    <div class="h-16 bg-gray-200 dark:bg-gray-700 rounded"></div>
                </div>`).join('')}
            </div>`;
            stats.innerText = 'Searching...';

            setTimeout(() => {

                const time = (Math.random() * 0.5 + 0.1).toFixed(2);
                stats.innerHTML = `About ${results.length} results (${time} seconds)`;

                container.innerHTML = '';

                if (results.length === 0) {
                    container.innerHTML = `
                        <div class="p-4 text-gray-600 dark:text-gray-400">
                            <p class="text-lg mb-2">Your search - <span class="font-bold text-gray-800 dark:text-gray-200">${query}</span> - did not match any documents.</p>
                            <p>Suggestions:</p>
                            <ul class="list-disc ml-5 mt-2 space-y-1">
                                <li>Try searching for "Tailwind", "SpaceX", or "Pizza".</li>
                                <li>Make sure that all words are spelled correctly.</li>
                                <li>Try different keywords.</li>
                            </ul>
                        </div>
                    `;
                    return;
                }

                if (results[0].knowledge) {
                    const data = results[0].knowledge;
                    kp.classList.remove('hidden');
                    document.getElementById('kp-title').innerText = data.title;
                    document.getElementById('kp-subtitle').innerText = data.subtitle;
                    document.getElementById('kp-desc').innerText = data.desc;
                    document.getElementById('kp-image').src = data.image;
                    document.getElementById('kp-fact1').innerText = data.fact1;
                    document.getElementById('kp-fact2').innerText = data.fact2;
                }

                results.forEach(item => {

                    const highlight = (text) => {
                        const regex = new RegExp(`(${query})`, 'gi');
                        return text.replace(regex, '<span class="text-gray-900 dark:text-white font-bold">$1</span>');
                    };

                    const div = document.createElement('div');
                    div.className = 'group';
                    div.innerHTML = `
                        <div class="flex flex-col mb-1">
                            <a href="${item.url}" class="text-sm text-gray-800 dark:text-gray-300 flex items-center gap-2 truncate">
                                <div class="bg-gray-100 dark:bg-gray-700 rounded-full p-1 w-6 h-6 flex items-center justify-center text-xs text-gray-500 uppercase">
                                    ${item.displayUrl.charAt(0)}
                                </div>
                                <span class="group-hover:underline">${item.displayUrl}</span>
                                <span class="text-gray-400 text-xs ml-1">▼</span>
                            </a>
                            <a href="${item.url}" class="text-xl text-blue-600 hover:underline visited:text-purple-700 dark:text-blue-400 dark:visited:text-purple-400 font-medium mt-1">
                                ${item.title}
                            </a>
                        </div>
                        <div class="text-sm text-gray-600 dark:text-gray-400 leading-relaxed max-w-2xl">
                            ${highlight(item.desc)}
                        </div>
                    `;
                    container.appendChild(div);
                });

            }, 400); 
        }
    </script>
</body>
</html>